
## 工作总结

### zark & 舆情平台

####  文本去重
- simhash
    - simhash 计算，1~N-gram，统计 每个元素的hash数量。进行优化，最多出现多少次。
    - 新闻经常出现bad case，例如翻页啊，网站头部、尾部加入以下logo或者免责声明，新闻title被改。优化方案：从文章中选择几句代表句。用一个简单的线性模型+一些简单特征，句子长度，句子的位置前10% 20%，1 2 3 4 句。
    - simhash 寻找相似，鸽巢原理。3为阈值的话，把64位分为4个部分，每个部分16长度。
- 双亲树签名
    - 要建立倒排索引，使用一个simhash值 查找到所有关联文章。 那使相似的simhash值，使用同一个签名。用一个并查集，用双亲树来管理simhash值。
- 数据灾备
    - 树是有状态的，不断增加内容那需要数据过期清理。每天清理一次。树的每个节点保持一个时间戳。
    - 主备的服务，定期磁盘dump。

#### 情感分析
- 语料准备
    - 网络爬虫：豆瓣，淘宝，appstore, 投诉网站，同花顺，云财经，微博表情，最后数据有大概2000W吧。
    - 开源数据，台湾的几个酒店的语料和情感词
    - 收费数据：数据堂的一些比较便宜的数据集我花钱买了一些。
    - 业务打标，5000W条长文本新闻 和 2W条微博。
- 模型方法
    - 模型 fasttext / textCNN / 双层 LSTM / ELMo
    - 迁移学习，finetune。 加噪声对抗。

#### 相关性
- bm25 的问题
    - 没有考虑到标题比文章重要
    - 分词错误导致计算不准
- 不使用分词，而直接用字计算
    - 改进 DoubleArrayTrie
    - query 语法解析
    - 逻辑回归+模型正则化，dropout , weight decay， mixup，lable smoothing。

#### 风险模型
- 各种垂类模型
    - 风险模型：
    - 暴恐政
    - 色情、赌博

- 黑产挖掘
    - 花呗套现
    - 碰瓷挖掘

####  热词&观点
- TextRank

####  事件抽取
- 实体识别
    - LSTM + 
- 事件抽取
    - 金融事件定义：股权转让，上市，信息披露等
    - 问题定义：事件有一个主体公司。
    - 语料收集：管理
- Aspect情感分析

### 主站客服

#### 标问生产
- 生产链路:
    - 问句过滤
    - 问法扩充
    - 问题聚类
    - 业务分发
- 算法方案
    - 句子向量化 BERT
    - 问法扩充 nmslib
    - 聚类算法 HDBSCAN

#### 猜你想问
- 特征，用户因子（年龄、地域、买过的保险等）、行为轨迹（在支付宝app内操作进行的rpc调用）、求助轨迹（渠道、类目、信息）
- 方案，分类模型，Encoder 试过 DNN、混合网络、Transformer 等。
- 在线学习：改造链路，半小时级别的特征拼接和指标计算。
- 气泡引导：强化学习，原因是命中概率小。同样是花呗还款问题，有很多种情况
- 引申版本：短信、应用通知、工具推荐等等。
- 还有用户障碍地图，进行精细化运营。

#### 问题识别
- 最开始是一个链式的架构，精准匹配、黑白名单拦截、分类、匹配、搜索。
- 多引擎召回，再融合排序。多引擎召回会给每个打上一个特征分数，用xgboost 重排序。
- 蒸馏 BERT。

#### 多轮对话
- 识别清晰模糊，如何还款，
- 强化学习，PPO Actor-Critic

#### 机器阅读
- 机器阅读：BERT(BERT的很多变种)，+ span 分类的方法
- 弱标注方法：人工闭环。可以把回答从文章中划去的部分关联到文章，这样得到两个分类数据，上下文+选择的文章，上下文+文章截取的片段。
- 服务片段挖掘：从用户话语中提取问题，机器阅读去找小二的回复哪个是真正的答案。


#### 图片意图识别
- 图文预训练：对话+截屏
- 位置信息：
- 图片打标：
- 图片分类


#### 其他
- 热线账户识别
- 数据+xxxx
- 热线交互意图识别
- 分类模型

#### 社区问答
- 冷启动知识准备
    - 百度知道爬取我们标问库的内容
    - 对爬取的内容进行重要性排序，截取重要topN的句子
    - 截取的句子让外包进行改写。
- 内容搜索
    - 句子相似度
- 内容推荐
    - 猜问技术是差不多的。

### 小二辅助
操作辅助：
    - 类目推荐
    - 引导推荐

信息辅助：
- 账单推荐
- 话术推荐
    - 话术挖掘
        - 普通话术
        - QA 话术
        - 节点话术
    - 话术排序
        - dialogue history。
        - 对话信息排序预训练